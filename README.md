# Claude Code é€šçŸ¥é…ç½®

ä¸º Claude Code é…ç½® macOS ç³»ç»Ÿé€šçŸ¥ï¼Œå®ç°ä»»åŠ¡å®Œæˆæé†’å’Œæˆæƒè¯·æ±‚æç¤ºã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ”” **åŒé‡é€šçŸ¥** - ä»»åŠ¡å®Œæˆæ¸©å’Œæé†’ + æˆæƒè¯·æ±‚ç´§æ€¥æç¤º
- ğŸ“Š **æ™ºèƒ½è¯†åˆ«** - è‡ªåŠ¨æ˜¾ç¤ºé¡¹ç›®åç§°ã€Git åˆ†æ”¯ã€æ–‡ä»¶å˜æ›´æ•°
- ğŸ¨ **ç»ˆç«¯ç¾åŒ–** - æ ¼å¼åŒ–çš„ç»ˆç«¯è¾“å‡ºï¼Œæ¸…æ™°æ˜“è¯»
- ğŸš€ **VSCode ä¼˜åŒ–** - å®Œç¾æ”¯æŒ VSCode é›†æˆç»ˆç«¯
- ğŸ“ **å¯é€‰æ—¥å¿—** - é»˜è®¤ç¦ç”¨ï¼Œéœ€è¦æ—¶å¯å¯ç”¨

## ğŸ“ é¡¹ç›®ç»“æ„

```
ClaudeCode_Config/
â”œâ”€â”€ README.md                      # æœ¬æ–‡æ¡£
â”œâ”€â”€ claude_notify_terminal.sh      # ä»»åŠ¡å®Œæˆé€šçŸ¥è„šæœ¬
â”œâ”€â”€ claude_auth_notify.sh          # æˆæƒè¯·æ±‚æé†’è„šæœ¬
â””â”€â”€ hooks.md                      # Hooks åŸç†è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£… terminal-notifier

```bash
# æ£€æŸ¥ Homebrew
brew --version

# å¦‚æœæœªå®‰è£… Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£… terminal-notifier
brew install terminal-notifier

# éªŒè¯å®‰è£…
terminal-notifier -title "æµ‹è¯•" -message "å®‰è£…æˆåŠŸï¼" -sound Glass
```

### 2. ç³»ç»Ÿæƒé™è®¾ç½®

```bash
# æ‰“å¼€ç³»ç»Ÿé€šçŸ¥è®¾ç½®
open x-apple.systempreferences:com.apple.preference.notifications
```

- **VSCode ç”¨æˆ·**ï¼šæ‰¾åˆ° **Visual Studio Code**ï¼Œå¼€å¯ **å…è®¸é€šçŸ¥**
- **Terminal ç”¨æˆ·**ï¼šæ‰¾åˆ° **Terminal**ï¼Œå¼€å¯ **å…è®¸é€šçŸ¥**

### 3. é…ç½® Claude Code Hooks

åœ¨ Claude Code ä¼šè¯ä¸­æ‰§è¡Œ `/hooks`ï¼Œé…ç½®ä¸¤ä¸ªäº‹ä»¶ï¼š

#### Stop äº‹ä»¶ - ä»»åŠ¡å®Œæˆé€šçŸ¥

```bash
bash "/Users/tieli/Library/Mobile Documents/com~apple~CloudDocs/Project/ClaudeCode_Config/claude_notify_terminal.sh"
```

- **è§¦å‘æ—¶æœº**ï¼šClaude Code å®Œæˆå“åº”å
- **æç¤ºéŸ³**ï¼šGlassï¼ˆæ¸©å’Œï¼‰
- **é€šçŸ¥å†…å®¹**ï¼šé¡¹ç›®åç§°ã€Git çŠ¶æ€ã€å®Œæˆæ—¶é—´

#### HumanInputRequired äº‹ä»¶ - æˆæƒè¯·æ±‚æé†’

```bash
bash "/Users/tieli/Library/Mobile Documents/com~apple~CloudDocs/Project/ClaudeCode_Config/claude_auth_notify.sh"
```

- **è§¦å‘æ—¶æœº**ï¼šClaude Code éœ€è¦ç”¨æˆ·æˆæƒæ—¶
- **æç¤ºéŸ³**ï¼šBlowï¼ˆç´§æ€¥ï¼‰
- **ç‰¹æ€§**ï¼š2ä¸ªç›¸åŒé€šçŸ¥ï¼ˆé—´éš”2ç§’ï¼‰ã€å¿½ç•¥å‹¿æ‰°æ¨¡å¼ã€è‡ªåŠ¨æ¿€æ´» VSCode

ä¸¤ä¸ªé…ç½®éƒ½ä¿å­˜åˆ° **User Settings**ï¼ˆæ‰€æœ‰é¡¹ç›®ç”Ÿæ•ˆï¼‰

### 4. æµ‹è¯•é€šçŸ¥

```bash
# æµ‹è¯•ä»»åŠ¡å®Œæˆé€šçŸ¥
bash ~/Library/Mobile\ Documents/com~apple~CloudDocs/Project/ClaudeCode_Config/claude_notify_terminal.sh "æµ‹è¯•æ¶ˆæ¯"

# æµ‹è¯•æˆæƒè¯·æ±‚æé†’
bash ~/Library/Mobile\ Documents/com~apple~CloudDocs/Project/ClaudeCode_Config/claude_auth_notify.sh "æµ‹è¯•æˆæƒ"
```

## ğŸ“– ä½¿ç”¨æ•ˆæœ

### ä»»åŠ¡å®Œæˆé€šçŸ¥ç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              âœ… Claude Code ä»»åŠ¡å®Œæˆ                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ“ é¡¹ç›®: MyProject
â•‘  ğŸ”§ åˆ†æ”¯: main | å˜æ›´: 3
â•‘  ğŸ“ å®ç°äº†ç”¨æˆ·è®¤è¯åŠŸèƒ½
â•‘  â° æ—¶é—´: 14:30
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### æˆæƒè¯·æ±‚æé†’ç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                          â•‘
â•‘         âš ï¸  Claude Code éœ€è¦æ‚¨çš„æˆæƒ  âš ï¸                â•‘
â•‘                                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ“ é¡¹ç›®: MyProject
â•‘  ğŸ” ç±»å‹: éœ€è¦ç¡®è®¤æ“ä½œ
â•‘  â° æ—¶é—´: 14:35:20
â•‘                                                          â•‘
â•‘  ğŸ‘‰ è¯·åœ¨ç»ˆç«¯ä¸­æŸ¥çœ‹å¹¶å“åº”æˆæƒè¯·æ±‚                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ğŸ› ï¸ Hook äº‹ä»¶è¯¦è§£

### æ ¸å¿ƒäº‹ä»¶ï¼ˆå·²é…ç½®ï¼‰

| Hook äº‹ä»¶ | è„šæœ¬æ–‡ä»¶ | ç”¨é€” | æç¤ºéŸ³ |
|-----------|---------|------|--------|
| Stop | `claude_notify_terminal.sh` | ä»»åŠ¡å®Œæˆé€šçŸ¥ | Glassï¼ˆæ¸©å’Œï¼‰ |
| HumanInputRequired | `claude_auth_notify.sh` | æˆæƒè¯·æ±‚æé†’ | Blowï¼ˆç´§æ€¥ï¼‰ |

### å¯é€‰äº‹ä»¶ï¼ˆæ‰©å±•ç”¨ï¼‰

#### PreToolUse äº‹ä»¶ - å·¥å…·è°ƒç”¨ç›‘æ§

ç›‘æ§ Claude Code å³å°†æ‰§è¡Œçš„æ“ä½œï¼Œç‰¹åˆ«æ˜¯æ•æ„Ÿå‘½ä»¤ï¼š

```bash
# è®°å½•æ‰€æœ‰å·¥å…·è°ƒç”¨
echo "[$(date)] å·¥å…·è°ƒç”¨: $1" >> ~/claude_tools.log

# æˆ–å¯¹ç‰¹å®šå·¥å…·å‘é€é€šçŸ¥
if [[ "$1" == *"rm"* ]] || [[ "$1" == *"delete"* ]]; then
    terminal-notifier -title "âš ï¸ åˆ é™¤æ“ä½œ" -message "$1" -sound Basso
fi
```

#### ToolOutputError äº‹ä»¶ - é”™è¯¯æé†’

å½“å·¥å…·æ‰§è¡Œå‡ºé”™æ—¶ç«‹å³é€šçŸ¥ï¼š

```bash
terminal-notifier -title "âŒ å·¥å…·æ‰§è¡Œé”™è¯¯" -subtitle "$(basename $PWD)" -message "è¯·æ£€æŸ¥ç»ˆç«¯è¾“å‡º" -sound Sosumi
```

## ğŸ“ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹é€šçŸ¥å£°éŸ³

ç¼–è¾‘è„šæœ¬ä¸­çš„ `sound name` å‚æ•°ï¼š

- **ç´§æ€¥**ï¼šBlow, Basso, Sosumi, Hero
- **æé†’**ï¼šGlass, Ping, Pop
- **æ¸©å’Œ**ï¼šPurr, Tink
- **ç‰¹æ®Š**ï¼šMorse, Submarine, Funk, Frog

### ä¿®æ”¹é€šçŸ¥å›¾æ ‡

åœ¨è„šæœ¬ä¸­ä½¿ç”¨ä¸åŒè¡¨æƒ…ç¬¦å·ï¼š

- âœ… ä»»åŠ¡å®Œæˆ
- âš ï¸ éœ€è¦æˆæƒ
- âŒ æ‰§è¡Œé”™è¯¯
- ğŸš€ éƒ¨ç½²ä»»åŠ¡
- ğŸ”§ ä¿®å¤ä»»åŠ¡
- ğŸ“ æ–‡æ¡£ä»»åŠ¡

## ğŸ“Š æ—¥å¿—ç®¡ç†ï¼ˆå¯é€‰ï¼‰

æ—¥å¿—åŠŸèƒ½é»˜è®¤å·²ç¦ç”¨ã€‚å¦‚éœ€å¯ç”¨ï¼Œè¯·ç¼–è¾‘è„šæœ¬æ–‡ä»¶ï¼Œæ‰¾åˆ°ä»¥ä¸‹æ³¨é‡Šå¹¶å–æ¶ˆï¼š

```bash
# æ—¥å¿—åŠŸèƒ½ï¼ˆé»˜è®¤ç¦ç”¨ï¼Œå¦‚éœ€å¯ç”¨è¯·å–æ¶ˆæ³¨é‡Šï¼‰
```

å¯ç”¨åï¼Œæ—¥å¿—å°†ä¿å­˜åœ¨ï¼š
- ä»»åŠ¡æ—¥å¿—ï¼š`~/Library/Mobile\ Documents/com~apple~CloudDocs/Project/ClaudeCode_Config/claude_tasks.log`
- æˆæƒæ—¥å¿—ï¼š`~/Library/Mobile\ Documents/com~apple~CloudDocs/Project/ClaudeCode_Config/claude_auth_requests.log`

## ğŸ”§ æ•…éšœæ’é™¤

### æ²¡æœ‰æ”¶åˆ°é€šçŸ¥ï¼Ÿ

1. **æµ‹è¯• terminal-notifierï¼š**
```bash
which terminal-notifier
terminal-notifier -title "æµ‹è¯•" -message "é€šçŸ¥æµ‹è¯•" -sound Glass
```

2. **æ£€æŸ¥ç³»ç»Ÿæƒé™ï¼š**
   - VSCode ç”¨æˆ·ï¼šç¡®ä¿ **Visual Studio Code** æœ‰é€šçŸ¥æƒé™
   - Terminal ç”¨æˆ·ï¼šç¡®ä¿ **Terminal** æœ‰é€šçŸ¥æƒé™

3. **æ£€æŸ¥å‹¿æ‰°æ¨¡å¼ï¼š**
   - ç¡®ä¿ Mac æœªå¼€å¯å‹¿æ‰°/ä¸“æ³¨æ¨¡å¼
   - æˆæƒæé†’ä¼šå¿½ç•¥å‹¿æ‰°æ¨¡å¼ï¼Œä½†ä»»åŠ¡å®Œæˆé€šçŸ¥ä¸ä¼š

4. **æ£€æŸ¥è„šæœ¬æƒé™ï¼š**
```bash
ls -la ~/Library/Mobile\ Documents/com~apple~CloudDocs/Project/ClaudeCode_Config/*.sh
```

5. **æ£€æŸ¥ Hook é…ç½®ï¼š**
```bash
# åœ¨ Claude Code ä¸­æŸ¥çœ‹å½“å‰é…ç½®
/hooks
```

### VSCode ç‰¹æ®Šè¯´æ˜

VSCode é›†æˆç»ˆç«¯çš„é€šçŸ¥éœ€è¦ï¼š
1. ç»™ **Visual Studio Code** åº”ç”¨æˆäºˆé€šçŸ¥æƒé™ï¼ˆä¸æ˜¯ Terminalï¼‰
2. ä½¿ç”¨ terminal-notifier è€Œé osascript æ›´å¯é 
3. æˆæƒæé†’ä¼šè‡ªåŠ¨æ¿€æ´» VSCode çª—å£

### é‡è£… terminal-notifier

```bash
brew uninstall terminal-notifier
brew install terminal-notifier
which terminal-notifier  # åº”æ˜¾ç¤ºï¼š/usr/local/bin/terminal-notifier
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **ä¸¤ä¸ª Hook éƒ½è¦é…ç½®** - ä»»åŠ¡å®Œæˆå’Œæˆæƒæé†’ç›¸è¾…ç›¸æˆ
2. **ä¿å­˜åˆ°ç”¨æˆ·è®¾ç½®** - ç¡®ä¿æ‰€æœ‰é¡¹ç›®éƒ½èƒ½ä½¿ç”¨
3. **æµ‹è¯•åå†ä½¿ç”¨** - å…ˆç”¨æµ‹è¯•å‘½ä»¤éªŒè¯é…ç½®æ­£ç¡®
4. **è‡ªå®šä¹‰æç¤ºéŸ³** - æ ¹æ®ä¸ªäººå–œå¥½è°ƒæ•´å£°éŸ³ç±»å‹
5. **æ—¥å¿—æŒ‰éœ€å¯ç”¨** - é¿å…ä¸å¿…è¦çš„ç£ç›˜å†™å…¥

## ğŸ“„ è®¸å¯

æœ¬é¡¹ç›®ä¸ºä¸ªäººé…ç½®æ–‡ä»¶é›†åˆï¼Œå¯è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æå‡ºæ”¹è¿›å»ºè®®æˆ–åˆ†äº«ä½ çš„é…ç½®ä¼˜åŒ–æ–¹æ¡ˆã€‚

---

*ç‰ˆæœ¬ï¼š2.1 | æœ€åæ›´æ–°ï¼š2025-09-16*